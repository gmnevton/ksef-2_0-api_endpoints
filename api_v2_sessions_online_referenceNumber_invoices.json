    "/api/v2/sessions/online/{referenceNumber}/invoices": {
      "post": {
        "tags": [
          "Wysyłka interaktywna"
        ],
        "summary": "Wysłanie faktury",
        "description": "Przyjmuje zaszyfrowaną fakturę oraz jej metadane i rozpoczyna jej przetwarzanie.\n\n> Więcej informacji:\n> - [Wysłanie faktury](https://github.com/CIRFMF/ksef-docs/blob/main/sesja-interaktywna.md#2-wys%C5%82anie-faktury)\n\nWymagane uprawnienia: `InvoiceWrite`.",
        "parameters": [
          {
            "name": "referenceNumber",
            "in": "path",
            "description": "Numer referencyjny sesji",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "description": "Dane faktury",
          "content": {
            "application/json": {
              "schema": {
                "required": [
                  "invoiceHash",
                  "invoiceSize",
                  "encryptedInvoiceHash",
                  "encryptedInvoiceSize",
                  "encryptedInvoiceContent"
                ],
                "allOf": [
                  {
                    "$ref": "#/components/schemas/SendInvoiceRequest"
                  }
                ]
              },
              "example": {"invoiceHash":"EbrK4cOSjW4hEpJaHU71YXSOZZmqP5++dK9nLgTzgV4=","invoiceSize":6480,"encryptedInvoiceHash":"miYb1z3Ljw5VucTZslv3Tlt+V/EK1V8Q8evD8HMQ0dc=","encryptedInvoiceSize":6496,"encryptedInvoiceContent":"...","offlineMode":false}
            }
          }
        },
        "responses": {
          "202": {
            "description": "Accepted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SendInvoiceResponse"
                },
                "example": {"referenceNumber":"20250625-EE-319D7EE000-B67F415CDC-2C"}
              }
            }
          },
          "400": {
            "description": "| ExceptionCode       | ExceptionDescription                                | Details                                                                                                    | \n|---------------------|-----------------------------------------------------|------------------------------------------------------------------------------------------------------------|\n| 21173               | Brak sesji o wskazanym numerze referencyjnym.       | Sesja o numerze referencyjnym {referenceNumber} nie została odnaleziona.                                   |\n| 21154               | Sesja interaktywna zakończona.                      | Sesja o numerze referencyjnym {referenceNumber} jest zamknięta.                                            |\n| 21155               | Przekroczona dozwolona ilość faktur w sesji.        | Sesja o numerze referencyjnym {referenceNumber} osiągnęła dozwolony limit liczby faktur {invoiceLimit}.    |",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExceptionResponse"
                }
              }
            },
            "x-summary": "Bad Request"
          },
          "403": {
            "description": "Forbidden"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "Bearer": [ ]
          }
        ],
        "x-required-permissions": [
          "InvoiceWrite"
        ]
      }
    },


      "SendInvoiceRequest": {
        "required": [
          "encryptedInvoiceContent",
          "encryptedInvoiceHash",
          "encryptedInvoiceSize",
          "invoiceHash",
          "invoiceSize"
        ],
        "type": "object",
        "properties": {
          "invoiceHash": {
            "type": "string",
            "description": "Skrót SHA256 oryginalnej faktury, zakodowany w formacie Base64."
          },
          "invoiceSize": {
            "type": "integer",
            "description": "Rozmiar oryginalnej faktury w bajtach.",
            "format": "int64"
          },
          "encryptedInvoiceHash": {
            "type": "string",
            "description": "Skrót SHA256 zaszyfrowanej faktury, zakodowany w formacie Base64."
          },
          "encryptedInvoiceSize": {
            "type": "integer",
            "description": "Rozmiar zaszyfrowanej faktury w bajtach.",
            "format": "int64"
          },
          "encryptedInvoiceContent": {
            "type": "string",
            "description": "Faktura zaszyfrowana algorytmem AES-256-CBC z dopełnianiem PKCS#7 (kluczem przekazanym przy otwarciu sesji), zakodowana w formacie Base64."
          },
          "offlineMode": {
            "type": "boolean",
            "description": "Określa, czy podatnik deklaruje tryb fakturowania \"offline\" dla przesyłanego dokumentu.",
            "default": false
          },
          "hashOfCorrectedInvoice": {
            "type": "string",
            "description": "Skrót SHA256 korygowanej faktury, zakodowany w formacie Base64. Wymagany przy wysyłaniu korekty technicznej faktury.",
            "nullable": true
          }
        },
        "additionalProperties": false
      },


      "SendInvoiceResponse": {
        "required": [
          "referenceNumber"
        ],
        "type": "object",
        "properties": {
          "referenceNumber": {
            "type": "string",
            "description": "Numer referencyjny faktury."
          }
        },
        "additionalProperties": false
      },



request:  /api/v2/sessions/online/{referenceNumber}/invoices: post: application/json
header:
Authentication: Bearer accessToken
body:
{
  "invoiceHash": "", // type: string; description: Skrót SHA256 oryginalnej faktury, zakodowany w formacie Base64.
  "invoiceSize": 0, // type: integer; format: int64; description": "Rozmiar oryginalnej faktury w bajtach.
  "encryptedInvoiceHash": "", // type: string; description: Skrót SHA256 zaszyfrowanej faktury, zakodowany w formacie Base64.
  "encryptedInvoiceSize": 0, // type: integer; format: int64; description: Rozmiar zaszyfrowanej faktury w bajtach.
  "encryptedInvoiceContent": "", // type: string; description: Faktura zaszyfrowana algorytmem AES-256-CBC z dopełnianiem PKCS#7 (kluczem przekazanym przy otwarciu sesji), zakodowana w formacie Base64.
  "offlineMode": true/false, // type: boolean; default: false; description: Określa, czy podatnik deklaruje tryb fakturowania \"offline\" dla przesyłanego dokumentu.
  "hashOfCorrectedInvoice": "" // type: string; nullable: true; description: Skrót SHA256 korygowanej faktury, zakodowany w formacie Base64. Wymagany przy wysyłaniu korekty technicznej faktury.
}



response: 
{
  "referenceNumber": "" // type: string; description: Numer referencyjny faktury.
}
