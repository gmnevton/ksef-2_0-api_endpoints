    "/api/v2/invoices/query/metadata": {
      "post": {
        "tags": [
          "Pobieranie faktur"
        ],
        "summary": "Pobranie listy metadanych faktur",
        "description": "Zwraca listę metadanych faktur spełniające podane kryteria wyszukiwania.\n\nWymagane uprawnienia: `InvoiceRead`.",
        "parameters": [
          {
            "name": "pageOffset",
            "in": "query",
            "description": "Indeks pierwszej strony wyników.",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "Rozmiar strony wyników.",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          }
        ],
        "requestBody": {
          "description": "Zestaw filtrów dla wyszukiwania metadanych.",
          "content": {
            "application/json": {
              "schema": {
                "required": [
                  "subjectType",
                  "dateRange"
                ],
                "allOf": [
                  {
                    "$ref": "#/components/schemas/InvoicesMetadataQueryRequest"
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/QueryInvoicesMetadataReponse"
                }
              }
            }
          },
          "400": {
            "description": "| ExceptionCode       | ExceptionDescription                                | Details                                                       | \n|---------------------|-----------------------------------------------------|---------------------------------------------------------------|\n| 21405               | Dokument nie jest zgodny ze schemą (json).          | {treść błędu walidacji}                                       |",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExceptionResponse"
                }
              }
            },
            "x-summary": "Bad Request"
          },
          "403": {
            "description": "Forbidden"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security": [
          {
            "Bearer": [ ]
          }
        ],
        "x-required-permissions": [
          "InvoiceRead"
        ]
      }
    },


      "InvoicesMetadataQueryRequest": {
        "required": [
          "dateRange",
          "subjectType"
        ],
        "type": "object",
        "properties": {
          "subjectType": {
            "allOf": [
              {
                "$ref": "#/components/schemas/InvoiceQuerySubjectType"
              }
            ],
            "description": "Typ podmiotu, którego dotyczą kryteria filtrowania metadanych faktur.\nOkreśla kontekst, w jakim przeszukiwane są dane.\n| Wartość | Opis |\n| --- | --- |\n| Subject1 | Podmiot 1 |\n| Subject2 | Podmiot 2 |\n| Subject3 | Podmiot 3 |\n| SubjectAuthorized | Podmiot upoważniony |\n"
          },
          "dateRange": {
            "required": [
              "dateType",
              "from"
            ],
            "allOf": [
              {
                "$ref": "#/components/schemas/InvoiceQueryDateRange"
              }
            ],
            "description": "Typ i zakres dat, według którego mają być filtrowane faktury."
          },
          "ksefNumber": {
            "type": "string",
            "description": "Numer KSeF faktury.",
            "nullable": true
          },
          "invoiceNumber": {
            "type": "string",
            "description": "Numer faktury nadany przez wystawcę.",
            "nullable": true
          },
          "amount": {
            "allOf": [
              {
                "$ref": "#/components/schemas/InvoiceQueryAmount"
              }
            ],
            "description": "Filtr kwotowy – brutto, netto lub VAT (z wartością).",
            "nullable": true
          },
          "seller": {
            "allOf": [
              {
                "$ref": "#/components/schemas/InvoiceQuerySeller"
              }
            ],
            "description": "Dane sprzedawcy.",
            "nullable": true
          },
          "buyer": {
            "allOf": [
              {
                "$ref": "#/components/schemas/InvoiceQueryBuyer"
              }
            ],
            "description": "Dane nabywcy.",
            "nullable": true
          },
          "currencyCodes": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CurrencyCode"
            },
            "description": "Kody walut.",
            "nullable": true
          },
          "invoicingMode": {
            "allOf": [
              {
                "$ref": "#/components/schemas/InvoicingMode"
              }
            ],
            "description": "Tryb wystawienia faktury: online lub offline.",
            "nullable": true
          },
          "isSelfInvoicing": {
            "type": "boolean",
            "description": "Czy faktura została wystawiona w trybie samofakturowania.",
            "nullable": true
          },
          "schemaType": {
            "allOf": [
              {
                "$ref": "#/components/schemas/InvoiceQuerySchemaType"
              }
            ],
            "nullable": true,
            "deprecated": true
          },
          "formType": {
            "allOf": [
              {
                "$ref": "#/components/schemas/InvoiceQueryFormType"
              }
            ],
            "description": "Typ dokumentu.\n| Wartość | Opis |\n| --- | --- |\n| FA | Faktura VAT |\n| PEF | Faktura PEF |\n| RR | Faktura RR |\n",
            "nullable": true
          },
          "invoiceTypes": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/InvoiceMetadataInvoiceType"
            },
            "description": "Rodzaje faktur.\n| Wartość | Opis |\n| --- | --- |\n| Vat | (FA) Podstawowa |\n| Zal | (FA) Zaliczkowa |\n| Kor | (FA) Korygująca |\n| Roz | (FA) Rozliczeniowa |\n| Upr | (FA) Uproszczona |\n| KorZal | (FA) Korygująca fakturę zaliczkową |\n| KorRoz | (FA) Korygująca fakturę rozliczeniową |\n| VatPef | [Mock] (PEF) Podstawowowa |\n| VatPefSp | [Mock] (PEF) Specjalizowana |\n| KorPef | [Mock] (PEF) Korygująca |\n| VatRr | [Mock] (RR) Podstawowa |\n| KorVatRr | [Mock] (RR) Korygująca |\n",
            "nullable": true
          },
          "hasAttachment": {
            "type": "boolean",
            "description": "Czy faktura ma załącznik.",
            "nullable": true
          }
        },
        "additionalProperties": false
      },


      "InvoiceQuerySubjectType": {
        "enum": [
          "Subject1",
          "Subject2",
          "Subject3",
          "SubjectAuthorized"
        ],
        "type": "string",
        "description": "| Wartość | Opis |\n| --- | --- |\n| Subject1 | Podmiot 1 |\n| Subject2 | Podmiot 2 |\n| Subject3 | Podmiot 3 |\n| SubjectAuthorized | Podmiot upoważniony |\n"
      },


      "InvoiceQueryDateRange": {
        "required": [
          "dateType",
          "from"
        ],
        "type": "object",
        "properties": {
          "dateType": {
            "allOf": [
              {
                "$ref": "#/components/schemas/InvoiceQueryDateType"
              }
            ],
            "description": "Typ daty, według której ma być zastosowany zakres.\n| Wartość | Opis |\n| --- | --- |\n| Issue | Data wystawienia faktury |\n| Invoicing | [Mock] Data przyjęcia faktury w systemie KSeF (do dalszego przetwarzania) |\n| PermanentStorage | [Mock] Data trwałego zapisu faktury w repozytorium systemu KSeF |\n"
          },
          "from": {
            "type": "string",
            "description": "Data początkowa zakresu.",
            "format": "date-time"
          },
          "to": {
            "type": "string",
            "description": "Data końcowa zakresu.",
            "format": "date-time",
            "nullable": true
          }
        },
        "additionalProperties": false
      },


      "InvoiceQuerySeller": {
        "type": "object",
        "properties": {
          "identifier": {
            "type": "string",
            "description": "Identyfikator sprzedawcy.",
            "nullable": true
          }
        },
        "additionalProperties": false
      },


      "InvoiceQueryBuyer": {
        "type": "object",
        "properties": {
          "identifierType": {
            "allOf": [
              {
                "$ref": "#/components/schemas/BuyerIdentifierType"
              }
            ],
            "description": "Typ identyfikatora nabywcy.\n| Wartość | Opis |\n| --- | --- |\n| None | Brak identyfikatora nabywcy |\n| Other | Inny |\n| Nip | NIP |\n| VatUe | VAT UE |\n",
            "nullable": true
          },
          "identifier": {
            "type": "string",
            "description": "Wartość identyfikatora nabywcy.",
            "nullable": true
          }
        },
        "additionalProperties": false
      },


      "InvoiceQueryDateRange": {
        "required": [
          "dateType",
          "from",
          "to"
        ],
        "type": "object",
        "properties": {
          "dateType": {
            "enum": [
              "Issue",
              "Invoicing",
              "Acquisition",
              "Hidden"
            ],
            "allOf": [
              {
                "$ref": "#/components/schemas/InvoiceQueryDateType"
              }
            ],
            "description": "Typ daty, według której ma być zastosowany zakres.\n| Wartość | Opis |\n| --- | --- |\n| Issue | Data wystawienia faktury. |\n| Invoicing | Data przyjęcia faktury w systemie KSeF. |\n| Acquisition | Data nadania numeru KSeF. |\n| Hidden | Data ukrycia faktury w systemie KSeF. |\n"
          },
          "from": {
            "type": "string",
            "description": "Data początkowa zakresu.",
            "format": "date-time"
          },
          "to": {
            "type": "string",
            "description": "Data końcowa zakresu.",
            "format": "date-time"
          }
        },
        "additionalProperties": false
      },


      "InvoiceQueryDateType": {
        "enum": [
          "Issue",
          "Invoicing",
          "PermanentStorage"
        ],
        "type": "string",
        "description": "| Wartość | Opis |\n| --- | --- |\n| Issue | Data wystawienia faktury |\n| Invoicing | [Mock] Data przyjęcia faktury w systemie KSeF (do dalszego przetwarzania) |\n| PermanentStorage | [Mock] Data trwałego zapisu faktury w repozytorium systemu KSeF |\n"
      },


      "InvoiceQueryAmount": {
        "type": "object",
        "properties": {
          "type": {
            "allOf": [
              {
                "$ref": "#/components/schemas/AmountType"
              }
            ],
            "nullable": true
          },
          "from": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "to": {
            "type": "number",
            "format": "double",
            "nullable": true
          }
        },
        "additionalProperties": false
      },


      "AmountType": {
        "enum": [
          "Brutto",
          "Netto",
          "Vat"
        ],
        "type": "string"
      },


      "QueryInvoicesReponse": {
        "required": [
          "invoices",
          "pageOffset",
          "pageSize",
          "totalCount"
        ],
        "type": "object",
        "properties": {
          "pageOffset": {
            "type": "integer",
            "description": "Indeks pierwszej strony wyników.",
            "format": "int32"
          },
          "pageSize": {
            "type": "integer",
            "description": "Liczba rekordów na stronie.",
            "format": "int32"
          },
          "totalCount": {
            "type": "integer",
            "description": "Całkowita liczba pasujących rekordów w repozytorium.",
            "format": "int32"
          },
          "invoices": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/InvoiceMetadata"
            },
            "description": "Lista faktur spełniających kryteria."
          }
        },
        "additionalProperties": false
      },


      "InvoiceMetadata": {
        "required": [
          "acquisitionDate",
          "buyer",
          "currency",
          "formCode",
          "grossAmount",
          "hasAttachment",
          "invoiceNumber",
          "invoiceType",
          "invoicingDate",
          "isSelfInvoicing",
          "issueDate",
          "ksefNumber",
          "netAmount",
          "permanentStorageDate",
          "seller",
          "vatAmount"
        ],
        "type": "object",
        "properties": {
          "ksefNumber": {
            "type": "string",
            "description": "Numer KSeF faktury."
          },
          "invoiceNumber": {
            "type": "string",
            "description": "Numer faktury nadany przez wystawcę."
          },
          "issueDate": {
            "type": "string",
            "description": "Data wystawienia faktury.",
            "format": "date"
          },
          "invoicingDate": {
            "type": "string",
            "description": "[Mock] Data przyjęcia faktury w systemie KSeF (do dalszego przetwarzania).",
            "format": "date-time"
          },
          "acquisitionDate": {
            "type": "string",
            "description": "Data nadania numeru KSeF.",
            "format": "date-time"
          },
          "permanentStorageDate": {
            "type": "string",
            "description": "[Mock] Data trwałego zapisu faktury w repozytorium systemu KSeF.",
            "format": "date-time"
          },
          "seller": {
            "required": [
              "identifier"
            ],
            "allOf": [
              {
                "$ref": "#/components/schemas/InvoiceMetadataSeller"
              }
            ],
            "description": "Dane identyfikujące sprzedawcę."
          },
          "buyer": {
            "required": [
              "identifierType"
            ],
            "allOf": [
              {
                "$ref": "#/components/schemas/InvoiceMetadataBuyer"
              }
            ],
            "description": "Dane identyfikujące nabywcę."
          },
          "netAmount": {
            "type": "number",
            "description": "Łączna kwota netto.",
            "format": "double"
          },
          "grossAmount": {
            "type": "number",
            "description": "Łączna kwota brutto.",
            "format": "double"
          },
          "vatAmount": {
            "type": "number",
            "description": "Łączna kwota VAT.",
            "format": "double"
          },
          "currency": {
            "type": "string",
            "description": "Kod waluty."
          },
          "invoicingMode": {
            "allOf": [
              {
                "$ref": "#/components/schemas/InvoicingMode"
              }
            ],
            "description": "Tryb fakturowania (online/offline).",
            "nullable": true
          },
          "invoiceType": {
            "allOf": [
              {
                "$ref": "#/components/schemas/InvoiceMetadataInvoiceType"
              }
            ],
            "description": "Rodzaj faktury.\n| Wartość | Opis |\n| --- | --- |\n| Vat | (FA) Podstawowa |\n| Zal | (FA) Zaliczkowa |\n| Kor | (FA) Korygująca |\n| Roz | (FA) Rozliczeniowa |\n| Upr | (FA) Uproszczona |\n| KorZal | (FA) Korygująca fakturę zaliczkową |\n| KorRoz | (FA) Korygująca fakturę rozliczeniową |\n| VatPef | [Mock] (PEF) Podstawowowa |\n| VatPefSp | [Mock] (PEF) Specjalizowana |\n| KorPef | [Mock] (PEF) Korygująca |\n| VatRr | [Mock] (RR) Podstawowa |\n| KorVatRr | [Mock] (RR) Korygująca |\n"
          },
          "formCode": {
            "required": [
              "systemCode",
              "schemaVersion",
              "value"
            ],
            "allOf": [
              {
                "$ref": "#/components/schemas/FormCode"
              }
            ],
            "description": "Struktura dokumentu faktury.\n\nObsługiwane schematy:\n| SystemCode | SchemaVersion | Value |\n| --- | --- | --- |\n| FA (2) | 1-0E | FA |\n| FA (3) | 1-0E | FA |\n"
          },
          "isSelfInvoicing": {
            "type": "boolean",
            "description": "Czy faktura została wystawiona w trybie samofakturowania."
          },
          "hasAttachment": {
            "type": "boolean",
            "description": "Czy faktura posiada załącznik."
          },
          "fileHash": {
            "type": "string",
            "description": "[Mock] Skrót SHA256 faktury.",
            "nullable": true
          },
          "hashOfCorrectedInvoice": {
            "type": "string",
            "description": "[Mock] Skrót SHA256 korygowanej faktury.",
            "nullable": true
          },
          "thirdSubjects": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/InvoiceMetadataThirdSubject"
            },
            "description": "[Mock] Lista trzecich podmiotów.",
            "nullable": true
          },
          "authorizedSubject": {
            "allOf": [
              {
                "$ref": "#/components/schemas/InvoiceMetadataAuthorizedSubject"
              }
            ],
            "description": "[Mock] Podmiot upoważniony.",
            "nullable": true
          }
        },
        "additionalProperties": false
      },

      "InvoiceMetadataThirdSubject": {
        "type": "object",
        "properties": {
          "identifierType": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ThirdSubjectIdentifierType"
              }
            ],
            "description": "Typ identyfikatora podmiotu trzeciego.\n| Wartość | Opis |\n| --- | --- |\n| Nip | Nip |\n| InternalId | Identyfikator wewnętrzny |\n| VatUe | VAT UE |\n| Other | Inny identyfikator |\n| None | Brak identyfikatora podmiotu trzeciego |\n"
          },
          "identifier": {
            "type": "string",
            "description": "Wartość identyfikatora podmiotu trzeciego.",
            "nullable": true
          },
          "name": {
            "type": "string",
            "description": "Nazwa podmiotu trzeciego.",
            "nullable": true
          },
          "role": {
            "type": "integer",
            "description": "Rola podmiotu trzeciego",
            "format": "int32"
          }
        },
        "additionalProperties": false
      },


      "ThirdSubjectIdentifierType": {
        "enum": [
          "Nip",
          "InternalId",
          "VatUe",
          "Other",
          "None"
        ],
        "type": "string",
        "description": "| Wartość | Opis |\n| --- | --- |\n| Nip | Nip |\n| InternalId | Identyfikator wewnętrzny |\n| VatUe | VAT UE |\n| Other | Inny identyfikator |\n| None | Brak identyfikatora podmiotu trzeciego |\n"
      },


      "InvoiceMetadataAuthorizedSubject": {
        "type": "object",
        "properties": {
          "identifier": {
            "type": "string",
            "description": "Identyfikator podmiotu upoważnionego",
            "nullable": true
          },
          "name": {
            "type": "string",
            "description": "Nazwa podmiotu upoważnionego",
            "nullable": true
          },
          "role": {
            "type": "integer",
            "description": "Rola podmiotu upoważnionego",
            "format": "int32"
          }
        },
        "additionalProperties": false
      },


      "InvoicingMode": {
        "enum": [
          "Online",
          "Offline"
        ],
        "type": "string"
      },


      "InvoiceQuerySchemaType": {
        "enum": [
          "FA1",
          "FA2",
          "FA3"
        ],
        "type": "string"
      },


      "InvoiceQueryFormType": {
        "enum": [
          "FA",
          "PEF",
          "RR"
        ],
        "type": "string",
        "description": "| Wartość | Opis |\n| --- | --- |\n| FA | Faktura VAT |\n| PEF | Faktura PEF |\n| RR | Faktura RR |\n"
      },


      "InvoiceMetadataInvoiceType": {
        "enum": [
          "Vat",
          "Zal",
          "Kor",
          "Roz",
          "Upr",
          "KorZal",
          "KorRoz",
          "VatPef",
          "VatPefSp",
          "KorPef",
          "VatRr",
          "KorVatRr"
        ],
        "type": "string",
        "description": "| Wartość | Opis |\n| --- | --- |\n| Vat | (FA) Podstawowa |\n| Zal | (FA) Zaliczkowa |\n| Kor | (FA) Korygująca |\n| Roz | (FA) Rozliczeniowa |\n| Upr | (FA) Uproszczona |\n| KorZal | (FA) Korygująca fakturę zaliczkową |\n| KorRoz | (FA) Korygująca fakturę rozliczeniową |\n| VatPef | [Mock] (PEF) Podstawowowa |\n| VatPefSp | [Mock] (PEF) Specjalizowana |\n| KorPef | [Mock] (PEF) Korygująca |\n| VatRr | [Mock] (RR) Podstawowa |\n| KorVatRr | [Mock] (RR) Korygująca |\n"
      },


      "InvoiceMetadataSeller": {
        "required": [
          "identifier"
        ],
        "type": "object",
        "properties": {
          "identifier": {
            "type": "string",
            "description": "Identyfikator sprzedawcy."
          },
          "name": {
            "type": "string",
            "description": "Nazwa sprzedawcy.",
            "nullable": true
          }
        },
        "additionalProperties": false
      },


      "InvoiceMetadataBuyer": {
        "required": [
          "identifierType"
        ],
        "type": "object",
        "properties": {
          "identifierType": {
            "allOf": [
              {
                "$ref": "#/components/schemas/BuyerIdentifierType"
              }
            ],
            "description": "Typ identyfikatora nabywcy.\n| Wartość | Opis |\n| --- | --- |\n| None | Brak identyfikatora nabywcy |\n| Other | Inny |\n| Nip | NIP |\n| VatUe | VAT UE |\n"
          },
          "identifier": {
            "type": "string",
            "description": "Wartośc identyfikatora nabywcy.",
            "nullable": true
          },
          "name": {
            "type": "string",
            "description": "Nazwa nabywcy.",
            "nullable": true
          }
        },
        "additionalProperties": false
      },


      "BuyerIdentifierType": {
        "enum": [
          "None",
          "Other",
          "Nip",
          "VatUe"
        ],
        "type": "string",
        "description": "| Wartość | Opis |\n| --- | --- |\n| None | Brak identyfikatora nabywcy |\n| Other | Inny |\n| Nip | NIP |\n| VatUe | VAT UE |\n"
      },


      "FormCode": {
        "required": [
          "schemaVersion",
          "systemCode",
          "value"
        ],
        "type": "object",
        "properties": {
          "systemCode": {
            "type": "string",
            "description": "Kod systemowy"
          },
          "schemaVersion": {
            "type": "string",
            "description": "Wersja schematu"
          },
          "value": {
            "type": "string",
            "description": "Wartość"
          }
        },
        "additionalProperties": false,
        "description": "Obsługiwane schematy:\n| SystemCode | SchemaVersion | Value |\n| --- | --- | --- |\n| FA (2) | 1-0E | FA |\n| FA (3) | 1-0E | FA |\n"
      },


      "CurrencyCode": {
        "enum": [
          "AED",
          "AFN",
          "ALL",
          "AMD",
          "ANG",
          "AOA",
          "ARS",
          "AUD",
          "AWG",
          "AZN",
          "BAM",
          "BBD",
          "BDT",
          "BGN",
          "BHD",
          "BIF",
          "BMD",
          "BND",
          "BOB",
          "BOV",
          "BRL",
          "BSD",
          "BTN",
          "BWP",
          "BYN",
          "BZD",
          "CAD",
          "CDF",
          "CHE",
          "CHF",
          "CHW",
          "CLF",
          "CLP",
          "CNY",
          "COP",
          "COU",
          "CRC",
          "CUC",
          "CUP",
          "CVE",
          "CZK",
          "DJF",
          "DKK",
          "DOP",
          "DZD",
          "EGP",
          "ERN",
          "ETB",
          "EUR",
          "FJD",
          "FKP",
          "GBP",
          "GEL",
          "GGP",
          "GHS",
          "GIP",
          "GMD",
          "GNF",
          "GTQ",
          "GYD",
          "HKD",
          "HNL",
          "HRK",
          "HTG",
          "HUF",
          "IDR",
          "ILS",
          "IMP",
          "INR",
          "IQD",
          "IRR",
          "ISK",
          "JEP",
          "JMD",
          "JOD",
          "JPY",
          "KES",
          "KGS",
          "KHR",
          "KMF",
          "KPW",
          "KRW",
          "KWD",
          "KYD",
          "KZT",
          "LAK",
          "LBP",
          "LKR",
          "LRD",
          "LSL",
          "LYD",
          "MAD",
          "MDL",
          "MGA",
          "MKD",
          "MMK",
          "MNT",
          "MOP",
          "MRU",
          "MUR",
          "MVR",
          "MWK",
          "MXN",
          "MXV",
          "MYR",
          "MZN",
          "NAD",
          "NGN",
          "NIO",
          "NOK",
          "NPR",
          "NZD",
          "OMR",
          "PAB",
          "PEN",
          "PGK",
          "PHP",
          "PKR",
          "PLN",
          "PYG",
          "QAR",
          "RON",
          "RSD",
          "RUB",
          "RWF",
          "SAR",
          "SBD",
          "SCR",
          "SDG",
          "SEK",
          "SGD",
          "SHP",
          "SLL",
          "SOS",
          "SRD",
          "SSP",
          "STN",
          "SVC",
          "SYP",
          "SZL",
          "THB",
          "TJS",
          "TMT",
          "TND",
          "TOP",
          "TRY",
          "TTD",
          "TWD",
          "TZS",
          "UAH",
          "UGX",
          "USD",
          "USN",
          "UYI",
          "UYU",
          "UYW",
          "UZS",
          "VES",
          "VND",
          "VUV",
          "WST",
          "XAF",
          "XAG",
          "XAU",
          "XBA",
          "XBB",
          "XBC",
          "XBD",
          "XCD",
          "XDR",
          "XOF",
          "XPD",
          "XPF",
          "XPT",
          "XSU",
          "XUA",
          "XXX",
          "YER",
          "ZAR",
          "ZMW",
          "ZWL"
        ],
        "type": "string"
      },



request:  /api/v2/invoices/query/metadata?pageOffset=xxx&pageSize=yyy: post: application/json
header:
Authentication: Bearer accessToken
body:
{
  "subjectType": "", // required; enum: Subject1, Subject2, Subject3, SubjectAuthorized
  "dateRange": { // required; description: Typ i zakres dat, według którego mają być filtrowane faktury.
    "dateType": "", // required; enum: Issue, Invoicing, Acquisition, Hidden; description: Typ daty, według której ma być zastosowany zakres.\n| Wartość | Opis |\n| --- | --- |\n| Issue | Data wystawienia faktury. |\n| Invoicing | Data przyjęcia faktury w systemie KSeF. |\n| Acquisition | Data nadania numeru KSeF. |\n| Hidden | Data ukrycia faktury w systemie KSeF.
    "from": "", // required; type: string; format: date-time; description: Data początkowa zakresu.
    "to": "" // type: string; format: date-time; description: Data końcowa zakresu.
  },
  "ksefNumber": "", // type: string; description: Numer KSeF faktury.; nullable: true
  "invoiceNumber": "", // type: string; description: Numer faktury nadany przez wystawcę.; nullable: true
  "amount": { // description: Filtr kwotowy – brutto, netto lub VAT (z wartością).; nullable: true
    "type": "", // enum: Brutto, Netto, Vat; nullable: true
    "from": 0, // type: number; format: double; nullable: true
    "to": 0, // type: number; format: double; nullable: true
  },
  "seller": { // description: Dane sprzedawcy.; nullable: true
    "identifier": "", // type: string; description: Identyfikator sprzedawcy.; nullable: true
    "name": "" // type: string; description: Nazwa sprzedawcy.; nullable: true
  },
  "buyer": { // description: Dane nabywcy.; nullable: true
    "identifierType": "", // enum: None, Other, Nip, VatUe; description: Typ identyfikatora nabywcy.; nullable: true
    "identifier": "", // type: string; description: Wartość identyfikatora nabywcy.; nullable: true
    "name": "" // type: string; description: Nazwa nabywcy.; nullable: true
  },
  "currencyCodes": [ // type: array; items: #/components/schemas/CurrencyCode; description: Kody walut.; nullable: true
    "", // enum: "AED".."ZWL"
    ...
  ],
  "invoicingMode": "", // enum: Online, Offline; description: Tryb wystawienia faktury: online lub offline.; nullable: true
  "isSelfInvoicing": true/false, // type: boolean; description: Czy faktura została wystawiona w trybie samofakturowania.; nullable: true
  "schemaType": "", // type: string; #/components/schemas/InvoiceQuerySchemaType; nullable: true
  "formType": "", // type: string; #/components/schemas/InvoiceQueryFormType; description: Typ dokumentu.\n| Wartość | Opis |\n| --- | --- |\n| FA | Faktura VAT |\n| PEF | Faktura PEF |\n| RR | Faktura RR |; nullable: true
  "invoiceTypes": [ // type: array; description: Rodzaje faktur.; nullable: true
    // enum: Vat, Kor, Zal, Roz, Upr, Kor_Zal, Kor_Roz
    "",
    ...
  ]
  "hasAttachment": true/false // type: boolean; description: Czy faktura ma załącznik.; nullable: true
}



response: application/json
{
  "totalCount": 0, // type: integer; format: int32; description: Całkowita liczba pasujących rekordów w repozytorium.;
  "hasMore": true/false, // type: boolean; description: Flaga informująca o dostępności kolejnej strony wyników.
  "invoices": [ // type: array; items: #/components/schemas/InvoiceMetadata; description: Lista faktur spełniających kryteria.
    {
      "ksefNumber": "", // type: string; description: Numer KSeF faktury.
      "invoiceNumber": "", // type: string; description: Numer faktury nadany przez wystawcę.
      "issueDate": "", // type: string; format: date-time; description: Data wystawienia faktury.
      "invoiceingDate": "", // type: string; format: date-time; description: Data przyjęcia faktury w systemie KSeF (do dalszego przetwarzania).
      "acquisitionDate": "", // type: string; format: date-time; description: Data nadania numeru KSeF.
      "permanentStorageDate": "", // type: string; format: date-time; description: Data trwałego zapisu faktury w repozytorium systemu KSeF.;
      "seller": { // #/components/schemas/InvoiceMetadataSeller; description: Dane identyfikujące sprzedawcę.
        "identifier": "", // type: string; description: Identyfikator sprzedawcy.
        "name": "" // type: string; description: Nazwa sprzedawcy.; nullable: true
      },
      "buyer": { // #/components/schemas/InvoiceMetadataBuyer; description: Dane identyfikujące nabywcę.
        "identifierType": "", // enum: None, Other, Nip, VatUe; description: Typ identyfikatora nabywcy.
        "identifier": "", // type: string; description: Wartośc identyfikatora nabywcy.; nullable: true
        "name": "" // type: string; description: Nazwa nabywcy.; nullable: true
      },
      "netAmount": 0, // type: number; format: double; description: Łączna kwota netto.
      "grossAmount": 0, // type: number; format: double; description: Łączna kwota brutto.
      "vatAmount": 0, // type: number; format: double; description: Łączna kwota VAT.
      "currency": "", // enum: AED..ZWL; #/components/schemas/CurrencyCode; description": "Kod waluty.
      "invoicingMode": "", // enum: Online, Offline; #/components/schemas/InvoicingMode; description: Tryb fakturowania (online/offline).
      "invoiceType": "", // enum: Vat, Kor, Zal, Roz, Upr, Kor_Zal, Kor_Roz; #/components/schemas/InvoiceMetadataInvoiceType; description: Rodzaj faktury.
      "formCode": { // #/components/schemas/FormCode; description: Struktura dokumentu faktury.
        "systemCode": "", // type: string; description: Kod systemowy
        "schemaVersion": "", // type: string; description: Wersja schematu
        "value": "" // type: string; description: Wartość
      },
      "isSelfInvoicing": true/false, // type: boolean; description: Czy faktura została wystawiona w trybie samofakturowania.
      "hasAttachment": true/false, // type: boolean; description: Czy faktura posiada załącznik.
      "fileHash": "", // type: string; description: Skrót SHA256 faktury.; nullable: true
      "hashOfCorrectedInvoice": "", // type: string; description: Skrót SHA256 korygowanej faktury.; nullable: true
      "thirdSubjects": [ // type: array; items: #/components/schemas/InvoiceMetadataThirdSubject; description: Lista trzecich podmiotów.; nullable: true
        {
          "identifierType": "", // enum: Nip, InternalId, VatUe, Other, None;  // #/components/schemas/ThirdSubjectIdentifierType;
          "identifier": "", // type: string; description: Wartość identyfikatora podmiotu trzeciego.; nullable: true
          "name": "", // type: string; description: Nazwa podmiotu trzeciego.; nullable: true
          "role": 0 // type: integer; format: int32; description: Rola podmiotu trzeciego
        },
        ...
      ],
      "authorizedSubject": { // #/components/schemas/InvoiceMetadataAuthorizedSubject; description: Podmiot upoważniony.; nullable: true
        "identifier": "", // type: string; description: Identyfikator podmiotu upoważnionego; nullable: true
        "name": "", // type: string; description: Nazwa podmiotu upoważnionego; nullable: true
        "role": 0 // type: integer; format: int32; description: Rola podmiotu upoważnionego
      }
    },
    ...
  ]
}
