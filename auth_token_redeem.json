//
// Endpoint: /auth/token/redeem
//
// Generated by OpenAPI_JSON_To_Single_Endpoint app.
// Author: Grzegorz Molenda.
// v.3 - 2025, All rights reserved.
// Released under MIT License.
//
  "/auth/token/redeem" : {
    "post" : {
      "tags" : [
        "Uzyskiwanie dostępu"
      ],
      "summary" : "Pobranie tokenów dostępowych",
      "description" : "Pobiera parę tokenów (access token i refresh token) wygenerowanych w ramach pozytywnie zakończonego procesu uwierzytelniania.\n**Tokeny można pobrać tylko raz.**\n\nSposób uwierzytelnienia: `AuthenticationToken` otrzymany przy rozpoczęciu operacji uwierzytelniania.",
      "responses" : {
        "200" : {
          "description" : "OK",
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/AuthenticationTokensResponse"
              },
              "example" : {
                "accessToken" : {
                  "token" : "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbi10eXBlIjoiQ29udGV4dFRva2VuIiwiY29udGV4dC1pZGVudGlmaWVyLXR5cGUiOiJOaXAiLCJjb250ZXh0LWlkZW50aWZpZXItdmFsdWUiOiIzNzU2OTc3MDQ5IiwiYXV0aGVudGljYXRpb24tbWV0aG9kIjoiUXVhbGlmaWVkU2VhbCIsInN1YmplY3QtZGV0YWlscyI6IntcIlN1YmplY3RJZGVudGlmaWVyXCI6e1wiVHlwZVwiOlwiTmlwXCIsXCJWYWx1ZVwiOlwiMzc1Njk3NzA0OVwifX0iLCJleHAiOjE3NDcyMjAxNDksImlhdCI6MTc0NzIxOTI0OSwiaXNzIjoia3NlZi1hcGktdGkiLCJhdWQiOiJrc2VmLWFwaS10aSJ9.R_3_R2PbdCk8T4WP_0XGOO1iVNu2ugNxmkDvsD0soIE",
                  "validUntil" : "2025-07-11T12:23:56.0154302+00:00"
                },
                "refreshToken" : {
                  "token" : "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbi10eXBlIjoiQ29udGV4dFRva2VuIiwiY29udGV4dC1pZGVudGlmaWVyLXR5cGUiOiJOaXAiLCJjb250ZXh0LWlkZW50aWZpZXItdmFsdWUiOiIzNzU2OTc3MDQ5IiwiYXV0aGVudGljYXRpb24tbWV0aG9kIjoiUXVhbGlmaWVkU2VhbCIsInN1YmplY3QtZGV0YWlscyI6IntcIlN1YmplY3RJZGVudGlmaWVyXCI6e1wiVHlwZVwiOlwiTmlwXCIsXCJWYWx1ZVwiOlwiMzc1Njk3NzA0OVwifX0iLCJleHAiOjE3NDcyMjAxNDksImlhdCI6MTc0NzIxOTI0OSwiaXNzIjoia3NlZi1hcGktdGkiLCJhdWQiOiJrc2VmLWFwaS10aSJ9.R_3_R2PbdCk8T4WP_0XGOO1iVNu2ugNxmkDvsD0soIE",
                  "validUntil" : "2025-07-11T12:23:56.0154302+00:00"
                }
              }
            }
          }
        },
        "400" : {
          "description" : "| ExceptionCode       | ExceptionDescription                           | Details                                                                     | \n|---------------------|------------------------------------------------|-----------------------------------------------------------------------------|\n| 21301               | Brak autoryzacji.                              | Tokeny dla operacji uwierzytelniania {referenceNumber} zostały już pobrane. |\n| 21301               | Brak autoryzacji.                              | Status uwierzytelniania ({operation.Status}) nie pozwala na pobranie tokenów. |\n| 21301               | Brak autoryzacji.                              | Token KSeF został unieważniony. |\n| 21304               | Brak uwierzytelnienia.                         | Operacja uwierzytelniania o numerze referencyjnym {referenceNumber} nie została znaleziona. |\n| 21308               | Próba wykorzystania metod autoryzacyjnych osoby zmarłej. |  |",
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/ExceptionResponse"
              }
            }
          },
          "x-summary" : "Bad Request"
        },
        "429" : {
          "description" : "| | req / s | req / min | req / h | grupa\n| --- | --- | --- | --- | --- |\n| **Limity liczby żądań** | 60 | - | - | -\n",
          "headers" : {
            "Retry-After" : {
              "schema" : {
                "$ref" : "#/components/schemas/RetryAfter"
              }
            }
          },
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/TooManyRequestsResponse"
              }
            }
          },
          "x-summary" : "Too Many Requests"
        },
        "401" : {
          "description" : "Unauthorized"
        }
      },
      "security" : [
        {
          "Bearer" : [

          ]
        }
      ],
      "x-rate-limits" : {
        "perSecond" : 60
      }
    }
  }


  "AuthenticationTokensResponse" : {
    "required" : [
      "accessToken",
      "refreshToken"
    ],
    "type" : "object",
    "properties" : {
      "accessToken" : {
        "required" : [
          "token",
          "validUntil"
        ],
        "allOf" : [
          {
            "$ref" : "#/components/schemas/TokenInfo"
          }
        ],
        "description" : "Token dostępu."
      },
      "refreshToken" : {
        "required" : [
          "token",
          "validUntil"
        ],
        "allOf" : [
          {
            "$ref" : "#/components/schemas/TokenInfo"
          }
        ],
        "description" : "Token umożliwiający odświeżenie tokenu dostępu.\n> Więcej informacji:\n> - [Odświeżanie tokena](https://github.com/CIRFMF/ksef-docs/blob/main/uwierzytelnianie.md#5-od%C5%9Bwie%C5%BCenie-tokena-dost%C4%99powego-accesstoken)"
      }
    }
  }


  "TokenInfo" : {
    "required" : [
      "token",
      "validUntil"
    ],
    "type" : "object",
    "properties" : {
      "token" : {
        "type" : "string",
        "description" : "Token w formacie JWT."
      },
      "validUntil" : {
        "type" : "string",
        "description" : "Data ważności tokena.",
        "format" : "date-time"
      }
    }
  }



//---------------------------------------------------------------------------------------------------
request: "/auth/token/redeem": post: text/plain
headers:
Authorization: Bearer {securityToken}
body:
--- no body ---



response (200): application/json
{
  "accessToken": { // required; type: object; items: #/components/schemas/TokenInfo; description: Token dostępu.
    "token": "", // required; type: string; description: Token w formacie JWT.
    "validUntil": "" // required; type: string; format: date-time; description: Data ważności tokena.
  },
  "refreshToken": { // required; type: object; items: #/components/schemas/TokenInfo; description: Token umożliwiający odświeżenie tokenu dostępu.
> Więcej informacji:
> - [Odświeżanie tokena](https://github.com/CIRFMF/ksef-docs/blob/main/uwierzytelnianie.md#5-od%C5%9Bwie%C5%BCenie-tokena-dost%C4%99powego-accesstoken)
    "token": "", // required; type: string; description: Token w formacie JWT.
    "validUntil": "" // required; type: string; format: date-time; description: Data ważności tokena.
  }
}
