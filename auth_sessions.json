//
// Endpoint: /auth/sessions
//
// Generated by OpenAPI_JSON_To_Single_Endpoint app.
// Author: Grzegorz Molenda.
// v.3 - 2025, All rights reserved.
// Released under MIT License.
//
  "/auth/sessions" : {
    "get" : {
      "tags" : [
        "Aktywne sesje"
      ],
      "summary" : "Pobranie listy aktywnych sesji",
      "description" : "Zwraca listę aktywnych sesji uwierzytelnienia.\n\n**Sortowanie:**\n\n- startDate (Desc)\n\n",
      "parameters" : [
        {
          "name" : "x-continuation-token",
          "in" : "header",
          "description" : "Token służący do pobrania kolejnej strony wyników.",
          "schema" : {
            "type" : "string"
          }
        },
        {
          "name" : "pageSize",
          "in" : "query",
          "description" : "Rozmiar strony wyników.",
          "schema" : {
            "maximum" : 100,
            "minimum" : 10,
            "type" : "integer",
            "format" : "int32",
            "default" : 10
          }
        }
      ],
      "responses" : {
        "200" : {
          "description" : "OK",
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/AuthenticationListResponse"
              },
              "example" : {
                "continuationToken" : "W3siY29tcG9zaXRlVG9rZW4iOnsidG9rZW4iOm51bGwsInJhbmdlIjp7Im1pbiI6IjA1QzFFMCIsIm1heCI6IkZGIn19LCJyZXN1bWVWYWx1ZXMiOlsiMjAyNS0xMC0wM1QxMjoxODo0OS4zNDY2ODQ3WiJdLCJyaWQiOiIzeHd0QVBJWDVRRlVoZ0FBQUFBQUJBPT0iLCJza2lwQ291bnQiOjF9XQ==",
                "items" : [
                  {
                    "referenceNumber" : "20251010-AU-19F5E39000-39B5B182BA-B8",
                    "isCurrent" : false,
                    "startDate" : "2025-10-11T12:23:56.0154302+00:00",
                    "authenticationMethod" : "QualifiedSeal",
                    "authenticationMethodInfo" : {
                      "category" : "XadesSignature",
                      "code" : "xades.qualified-seal",
                      "displayName" : "Pieczęć kwalifikowana"
                    },
                    "status" : {
                      "code" : 200,
                      "description" : "Uwierzytelnianie zakończone sukcesem"
                    },
                    "isTokenRedeemed" : true,
                    "refreshTokenValidUntil" : "2025-11-28T09:22:13.388+00:00"
                  }
                ]
              }
            }
          }
        },
        "400" : {
          "description" : "| ExceptionCode       | ExceptionDescription                                | Details                                                     | \n|---------------------|-----------------------------------------------------|-------------------------------------------------------------|\n| 21418               | Przekazany token kontynuacji ma nieprawidłowy format. |   |\n| 21405 | Błąd walidacji danych wejściowych. | {treść błędu z walidatora} |",
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/ExceptionResponse"
              }
            }
          },
          "x-summary" : "Bad Request"
        },
        "429" : {
          "description" : "| | req / s | req / min | req / h | grupa\n| --- | --- | --- | --- | --- |\n| **Limity liczby żądań** | 100 | 300 | 1200 | other\n",
          "headers" : {
            "Retry-After" : {
              "schema" : {
                "$ref" : "#/components/schemas/RetryAfter"
              }
            }
          },
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/TooManyRequestsResponse"
              }
            }
          },
          "x-summary" : "Too Many Requests"
        },
        "401" : {
          "description" : "Unauthorized"
        }
      },
      "security" : [
        {
          "Bearer" : [

          ]
        }
      ],
      "x-rate-limits" : {
        "perSecond" : 100,
        "perMinute" : 300,
        "perHour" : 1200
      },
      "x-sort" : [
        {
          "field" : "startDate",
          "direction" : "Desc"
        }
      ]
    }
  }


  "AuthenticationListResponse" : {
    "required" : [
      "items"
    ],
    "type" : "object",
    "properties" : {
      "continuationToken" : {
        "type" : "string",
        "description" : "Token służący do pobrania kolejnej strony wyników. Jeśli jest pusty, to nie ma kolejnych stron.",
        "nullable" : true
      },
      "items" : {
        "type" : "array",
        "items" : {
          "$ref" : "#/components/schemas/AuthenticationListItem"
        },
        "description" : "Lista sesji uwierzytelniania."
      }
    },
    "additionalProperties" : false
  }


  "AuthenticationListItem" : {
    "required" : [
      "authenticationMethod",
      "authenticationMethodInfo",
      "referenceNumber",
      "startDate",
      "status"
    ],
    "type" : "object",
    "properties" : {
      "startDate" : {
        "type" : "string",
        "description" : "Data rozpoczęcia operacji uwierzytelnienia.",
        "format" : "date-time"
      },
      "authenticationMethod" : {
        "allOf" : [
          {
            "$ref" : "#/components/schemas/AuthenticationMethod"
          }
        ],
        "description" : "Metoda uwierzytelnienia.\n| Wartość | Opis |\n| --- | --- |\n| Token | Token KSeF. |\n| TrustedProfile | Profil Zaufany. |\n| InternalCertificate | Certyfikat KSeF. |\n| QualifiedSignature | Podpis kwalifikowany. |\n| QualifiedSeal | Pieczęć kwalifikowana. |\n| PersonalSignature | Podpis osobisty. |\n| PeppolSignature | Podpis dostawcy usług Peppol. |\n",
        "deprecated" : true,
        "x-removal-date" : "2026-11-16"
      },
      "authenticationMethodInfo" : {
        "allOf" : [
          {
            "$ref" : "#/components/schemas/AuthenticationMethodInfo"
          }
        ],
        "description" : "Użyta metoda uwierzytelnienia."
      },
      "status" : {
        "allOf" : [
          {
            "$ref" : "#/components/schemas/StatusInfo"
          }
        ],
        "description" : "Informacje o aktualnym statusie.\n| Code | Description | Details |\n| --- | --- | --- |\n| 100 | Uwierzytelnianie w toku | - |\n| 200 | Uwierzytelnianie zakończone sukcesem | - |\n| 415 | Uwierzytelnianie zakończone niepowodzeniem | Brak przypisanych uprawnień |\n| 425 | Uwierzytelnienie unieważnione  | Uwierzytelnienie i powiązane refresh tokeny zostały unieważnione przez użytkownika |\n| 450 | Uwierzytelnianie zakończone niepowodzeniem z powodu błędnego tokenu | Nieprawidłowe wyzwanie autoryzacyjne |\n| 450 | Uwierzytelnianie zakończone niepowodzeniem z powodu błędnego tokenu | Nieprawidłowy token |\n| 450 | Uwierzytelnianie zakończone niepowodzeniem z powodu błędnego tokenu | Nieprawidłowy czas tokena |\n| 450 | Uwierzytelnianie zakończone niepowodzeniem z powodu błędnego tokenu | Token unieważniony |\n| 450 | Uwierzytelnianie zakończone niepowodzeniem z powodu błędnego tokenu | Token nieaktywny |\n| 460 | Uwierzytelnianie zakończone niepowodzeniem z powodu błędu certyfikatu | Nieważny certyfikat |\n| 460 | Uwierzytelnianie zakończone niepowodzeniem z powodu błędu certyfikatu | Błąd weryfikacji łańcucha certyfikatów |\n| 460 | Uwierzytelnianie zakończone niepowodzeniem z powodu błędu certyfikatu | Niezaufany łańcuch certyfikatów |\n| 460 | Uwierzytelnianie zakończone niepowodzeniem z powodu błędu certyfikatu | Certyfikat odwołany |\n| 460 | Uwierzytelnianie zakończone niepowodzeniem z powodu błędu certyfikatu | Certyfikat zawieszony |\n| 460 | Uwierzytelnianie zakończone niepowodzeniem z powodu błędu certyfikatu | Niepoprawny certyfikat |\n| 470 | Uwierzytelnianie zakończone niepowodzeniem | Próba wykorzystania metod autoryzacyjnych osoby zmarłej |\n| 480 | Uwierzytelnienie zablokowane | Podejrzenie incydentu bezpieczeństwa. Skontaktuj się z Ministerstwem Finansów przez formularz zgłoszeniowy. |\n| 500 | Nieznany błąd | - |\n| 550 | Operacja została anulowana przez system | Przetwarzanie zostało przerwane z przyczyn wewnętrznych systemu. Spróbuj ponownie |"
      },
      "isTokenRedeemed" : {
        "type" : "boolean",
        "description" : "Czy został już wydany refresh token powiązany z danym uwierzytelnieniem.",
        "nullable" : true
      },
      "lastTokenRefreshDate" : {
        "type" : "string",
        "description" : "Data ostatniego odświeżenia tokena.",
        "format" : "date-time",
        "nullable" : true
      },
      "refreshTokenValidUntil" : {
        "type" : "string",
        "description" : "Termin ważności refresh tokena (o ile nie zostanie wcześniej unieważniony).",
        "format" : "date-time",
        "nullable" : true
      },
      "referenceNumber" : {
        "allOf" : [
          {
            "$ref" : "#/components/schemas/ReferenceNumber"
          }
        ],
        "description" : "Numer referencyjny sesji uwierzytelnienia."
      },
      "isCurrent" : {
        "type" : "boolean",
        "description" : "Czy sesja jest powiązana z aktualnie używanym tokenem.",
        "readOnly" : true
      }
    },
    "additionalProperties" : false
  }


  "AuthenticationMethod" : {
    "enum" : [
      "Token",
      "TrustedProfile",
      "InternalCertificate",
      "QualifiedSignature",
      "QualifiedSeal",
      "PersonalSignature",
      "PeppolSignature"
    ],
    "type" : "string",
    "description" : "Metoda uwierzytelnienia.\n| Wartość | Opis |\n| --- | --- |\n| Token | Token KSeF. |\n| TrustedProfile | Profil Zaufany. |\n| InternalCertificate | Certyfikat KSeF. |\n| QualifiedSignature | Podpis kwalifikowany. |\n| QualifiedSeal | Pieczęć kwalifikowana. |\n| PersonalSignature | Podpis osobisty. |\n| PeppolSignature | Podpis dostawcy usług Peppol. |\n"
  }


  "AuthenticationMethodInfo" : {
    "type" : "object",
    "properties" : {
      "category" : {
        "allOf" : [
          {
            "$ref" : "#/components/schemas/AuthenticationMethodCategory"
          }
        ],
        "description" : "Kategoria metody uwierzytelnienia.\n| Wartość | Opis |\n| --- | --- |\n| XadesSignature | Uwierzytelnienie podpisem Xades. |\n| NationalNode | Uwierzytelnienie za pomocą Węzła Krajowego (login.gov.pl). |\n| Token | Uwierzytelnienie tokenem. |\n| Other | Uwierzytelnienie inną metodą. |\n"
      },
      "code" : {
        "type" : "string",
        "description" : "Kod metody uwierzytelnienia.",
        "nullable" : true
      },
      "displayName" : {
        "type" : "string",
        "description" : "Nazwa metody uwierzytelnienia do wyświetlenia użytkownikowi.",
        "nullable" : true,
        "readOnly" : true
      }
    },
    "additionalProperties" : false
  }


  "AuthenticationMethodCategory" : {
    "enum" : [
      "XadesSignature",
      "NationalNode",
      "Token",
      "Other"
    ],
    "type" : "string",
    "description" : "| Wartość | Opis |\n| --- | --- |\n| XadesSignature | Uwierzytelnienie podpisem Xades. |\n| NationalNode | Uwierzytelnienie za pomocą Węzła Krajowego (login.gov.pl). |\n| Token | Uwierzytelnienie tokenem. |\n| Other | Uwierzytelnienie inną metodą. |\n"
  }


  "StatusInfo" : {
    "required" : [
      "code",
      "description"
    ],
    "type" : "object",
    "properties" : {
      "code" : {
        "type" : "integer",
        "description" : "Kod statusu",
        "format" : "int32"
      },
      "description" : {
        "minLength" : 1,
        "type" : "string",
        "description" : "Opis statusu"
      },
      "details" : {
        "type" : "array",
        "items" : {
          "type" : "string"
        },
        "description" : "Dodatkowe szczegóły statusu",
        "nullable" : true
      }
    },
    "additionalProperties" : false
  }


  "ReferenceNumber" : {
    "maxLength" : 36,
    "minLength" : 36,
    "type" : "string",
    "description" : "Numer referencyjny."
  }



//---------------------------------------------------------------------------------------------------
request: "/auth/sessions?pageSize={pageSize}": get: text/plain
headers:
??x-continuation-token: {continuationToken}
Authorization: Bearer {securityToken}
body:
--- no body ---



response (200): application/json
{
  "continuationToken": "", // type: string; nullable: true; description: Token służący do pobrania kolejnej strony wyników. Jeśli jest pusty, to nie ma kolejnych stron.
  "items": [ // required; type: array; description: Lista sesji uwierzytelniania.
    {
      "startDate": "", // required; type: string; format: date-time; description: Data rozpoczęcia operacji uwierzytelnienia.
      "authenticationMethod": "", // required; type: string; items: #/components/schemas/AuthenticationMethod; description: Metoda uwierzytelnienia.
| Wartość | Opis |
| --- | --- |
| Token | Token KSeF. |
| TrustedProfile | Profil Zaufany. |
| InternalCertificate | Certyfikat KSeF. |
| QualifiedSignature | Podpis kwalifikowany. |
| QualifiedSeal | Pieczęć kwalifikowana. |
| PersonalSignature | Podpis osobisty. |
| PeppolSignature | Podpis dostawcy usług Peppol. |
      "authenticationMethodInfo": { // required; type: object; items: #/components/schemas/AuthenticationMethodInfo; description: Użyta metoda uwierzytelnienia.
        "category": "", // type: string; items: #/components/schemas/AuthenticationMethodCategory; description: Kategoria metody uwierzytelnienia.
| Wartość | Opis |
| --- | --- |
| XadesSignature | Uwierzytelnienie podpisem Xades. |
| NationalNode | Uwierzytelnienie za pomocą Węzła Krajowego (login.gov.pl). |
| Token | Uwierzytelnienie tokenem. |
| Other | Uwierzytelnienie inną metodą. |
        "code": "", // type: string; nullable: true; description: Kod metody uwierzytelnienia.
        "displayName": "" // type: string; nullable: true; description: Nazwa metody uwierzytelnienia do wyświetlenia użytkownikowi.
      },
      "status": { // required; type: object; items: #/components/schemas/StatusInfo; description: Informacje o aktualnym statusie.
| Code | Description | Details |
| --- | --- | --- |
| 100 | Uwierzytelnianie w toku | - |
| 200 | Uwierzytelnianie zakończone sukcesem | - |
| 415 | Uwierzytelnianie zakończone niepowodzeniem | Brak przypisanych uprawnień |
| 425 | Uwierzytelnienie unieważnione  | Uwierzytelnienie i powiązane refresh tokeny zostały unieważnione przez użytkownika |
| 450 | Uwierzytelnianie zakończone niepowodzeniem z powodu błędnego tokenu | Nieprawidłowe wyzwanie autoryzacyjne |
| 450 | Uwierzytelnianie zakończone niepowodzeniem z powodu błędnego tokenu | Nieprawidłowy token |
| 450 | Uwierzytelnianie zakończone niepowodzeniem z powodu błędnego tokenu | Nieprawidłowy czas tokena |
| 450 | Uwierzytelnianie zakończone niepowodzeniem z powodu błędnego tokenu | Token unieważniony |
| 450 | Uwierzytelnianie zakończone niepowodzeniem z powodu błędnego tokenu | Token nieaktywny |
| 460 | Uwierzytelnianie zakończone niepowodzeniem z powodu błędu certyfikatu | Nieważny certyfikat |
| 460 | Uwierzytelnianie zakończone niepowodzeniem z powodu błędu certyfikatu | Błąd weryfikacji łańcucha certyfikatów |
| 460 | Uwierzytelnianie zakończone niepowodzeniem z powodu błędu certyfikatu | Niezaufany łańcuch certyfikatów |
| 460 | Uwierzytelnianie zakończone niepowodzeniem z powodu błędu certyfikatu | Certyfikat odwołany |
| 460 | Uwierzytelnianie zakończone niepowodzeniem z powodu błędu certyfikatu | Certyfikat zawieszony |
| 460 | Uwierzytelnianie zakończone niepowodzeniem z powodu błędu certyfikatu | Niepoprawny certyfikat |
| 470 | Uwierzytelnianie zakończone niepowodzeniem | Próba wykorzystania metod autoryzacyjnych osoby zmarłej |
| 480 | Uwierzytelnienie zablokowane | Podejrzenie incydentu bezpieczeństwa. Skontaktuj się z Ministerstwem Finansów przez formularz zgłoszeniowy. |
| 500 | Nieznany błąd | - |
| 550 | Operacja została anulowana przez system | Przetwarzanie zostało przerwane z przyczyn wewnętrznych systemu. Spróbuj ponownie |
        "code": 0, // required; type: integer; format: int32; description: Kod statusu
        "description": "", // required; type: string; description: Opis statusu
        "details": [ // type: array; nullable: true; description: Dodatkowe szczegóły statusu
        ]
      },
      "isTokenRedeemed": true/false, // type: boolean; nullable: true; description: Czy został już wydany refresh token powiązany z danym uwierzytelnieniem.
      "lastTokenRefreshDate": "", // type: string; format: date-time; nullable: true; description: Data ostatniego odświeżenia tokena.
      "refreshTokenValidUntil": "", // type: string; format: date-time; nullable: true; description: Termin ważności refresh tokena (o ile nie zostanie wcześniej unieważniony).
      "referenceNumber": "", // required; type: string; items: #/components/schemas/ReferenceNumber; description: Numer referencyjny sesji uwierzytelnienia.
      "isCurrent": true/false // type: boolean; description: Czy sesja jest powiązana z aktualnie używanym tokenem.
    }
  ]
}
